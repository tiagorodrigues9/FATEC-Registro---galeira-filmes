<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Quicksand:wght@400;500&display=swap"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="/css/style.css" />
		<title>Filmes</title>
	</head>

	<body>
		<div class="container mt-5">
			<!-- Formulário para cadastro -->
			<div class="card">
				<div class="card-header text-center">
					<h1>Cadastro de Filmes</h1>
				</div>
				<div class="card-body">
					<form
						action="/upload"
						method="post"
						enctype="multipart/form-data"
					>
						<div class="row">
							<div class="col">
								<label class="info-label">Título:</label>
								<input
									type="text"
									name="titulo"
									class="form-control"
									required
								/><br /><br />
							</div>
							<div class="col-2">
								<label class="info-label"
									>Ano de Lançamento:</label>
								<input type="text" name="anoLancamento" class="form-control" required /><br /><br />
							</div>
						</div>
						<div class="row">
							<div class="col-4">
								<label class="info-label">Gênero:</label>
								<input
									type="text"
									name="genero"
									class="form-control"
									required
								/><br /><br />
							</div>
							<div class="col">
								<label class="info-label"
									>Classificação Etária:</label
								>
								<input type="text" name="classificacaoEtaria" class="form-control" required /><br /><br />
							</div>
							<div class="col">
								<label class="info-label">Duração:</label>
								<input
									type="text"
									name="duracao"
									class="form-control"
									required
								/><br /><br />
							</div>
							<div class="col">
								<label class="info-label">Nota:</label>
								<input
									type="text"
									name="nota"
									class="form-control"
									required
								/><br /><br />
							</div>
						</div>
						<label class="info-label">Sinopse:</label>
						<textarea name="sinopse" class="form-control" required></textarea>
						<br /><br />
						<label class="info-label">Cartaz:</label>
						<input
							type="file"
							name="file"
							class="form-control"
							required
						/><br /><br />
						<input
							type="submit"
							value="Enviar"
							class="btn btn-submit"
						/><br /><br />
						<hr />
					</form>
				</div>
			</div>

			<!-- Catálogo de filmes -->
			<div class="card mt-4">
				<div class="card-header text-center">
					<h1>Catálogo de Filmes</h1>
				</div>
				<div class="card-body">
					<div
						id="filmeCarousel"
						class="carousel slide"
						data-bs-ride="carousel"
					>
						<div class="carousel-inner">
							<% filmes.forEach((filme, index) => { %>
							<div
								class="carousel-item <%= index === 0 ? 'active' : '' %>"
							>
								<div class="d-flex justify-content-center">
									<div class="card" style="width: 18rem">
										<img
											src="uploads/<%=filme.file%>"
											class="card-img-top"
											alt="<%=filme.titulo%>"
										/>
										<div class="card-body">
											<h5
												class="card-title"
												style="color: #f1fa3c"
											>
												<%=filme.titulo%>
											</h5>
											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Classificação:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%=filme.classificacaoEtaria%>
													</p>
												</div>
											</div>
											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Ano de Lançamento:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%=filme.anoLancamento%>
													</p>
												</div>
											</div>

											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Gênero:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%=filme.genero%>
													</p>
												</div>
											</div>

											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Duração:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%= filme.duracao %>
													</p>
												</div>
											</div>

											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Nota:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%= filme.nota %>
													</p>
												</div>
											</div>

											<div class="row">
												<div class="col-auto pe-0">
													<p class="info-label">
														Sinopse:
													</p>
												</div>
												<div class="col">
													<p class="info-value">
														<%= filme.sinopse %>
													</p>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<% }) %>
						</div>
						<button
							class="carousel-control-prev"
							type="button"
							data-bs-target="#filmeCarousel"
							data-bs-slide="prev"
						>
							<span
								class="carousel-control-prev-icon"
								aria-hidden="true"
							></span>
							<span class="visually-hidden">Anterior</span>
						</button>
						<button
							class="carousel-control-next"
							type="button"
							data-bs-target="#filmeCarousel"
							data-bs-slide="next"
						>
							<span
								class="carousel-control-next-icon"
								aria-hidden="true"
							></span>
							<span class="visually-hidden">Próximo</span>
						</button>
					</div>
				</div>
			</div>
		</div>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
			crossorigin="anonymous"
		></script>
	</body>
</html>
